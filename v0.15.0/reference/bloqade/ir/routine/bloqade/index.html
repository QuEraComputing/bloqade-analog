<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The neutral atom computing software development kit."><link href=https://bloqade.quera.com/v0.15.0/reference/bloqade/ir/routine/bloqade/ rel=canonical><link href=../base/ rel=prev><link href=../braket/ rel=next><link rel=icon href=../../../../../assets/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.3"><title>Bloqade - The Neutral Atom SDK</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Lato";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#bloqade.ir.routine.bloqade class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="The Neutral Atom SDK" class="md-header__button md-logo" aria-label="The Neutral Atom SDK" data-md-component=logo> <img src=../../../../../assets/logo-dark.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Neutral Atom SDK </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Bloqade </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/QuEraComputing/bloqade-python title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> bloqade-python </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=https://queracomputing.github.io/bloqade-analog-examples/latest/ class=md-tabs__link> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../overview/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../../../../blog/2023/ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=https://github.com/QuEraComputing/bloqade-python/blob/main/LICENSE class=md-tabs__link> License </a> </li> <li class=md-tabs__item> <a href=../../../../../contributing/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="The Neutral Atom SDK" class="md-nav__button md-logo" aria-label="The Neutral Atom SDK" data-md-component=logo> <img src=../../../../../assets/logo-dark.png alt=logo> </a> The Neutral Atom SDK </label> <div class=md-nav__source> <a href=https://github.com/QuEraComputing/bloqade-python title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> bloqade-python </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../../../../.. class="md-nav__link "> <span class=md-ellipsis> Home </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../home/bloqade_101/ class=md-nav__link> <span class=md-ellipsis> Bloqade 101 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../home/getting_started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../../home/advanced_usage/ class=md-nav__link> <span class=md-ellipsis> Advanced Usage </span> </a> </li> <li class=md-nav__item> <a href=../../../../../home/gotchas/ class=md-nav__link> <span class=md-ellipsis> Gotchas </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://queracomputing.github.io/bloqade-analog-examples/latest/ class=md-nav__link> <span class=md-ellipsis> Tutorials </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../overview/ class=md-nav__link> <span class=md-ellipsis> Builder Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../../standard/ class=md-nav__link> <span class=md-ellipsis> Builder Standard Diagram </span> </a> </li> <li class=md-nav__item> <a href=../../../../hardware-capabilities/ class=md-nav__link> <span class=md-ellipsis> Hardware Reference </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../../ class="md-nav__link "> <span class=md-ellipsis> API References </span> </a> <label class="md-nav__link " for=__nav_3_4 id=__nav_3_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=true> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> API References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../atom_arrangement/ class=md-nav__link> <span class=md-ellipsis> Atom arrangement </span> </a> </li> <li class=md-nav__item> <a href=../../../constants/ class=md-nav__link> <span class=md-ellipsis> Constants </span> </a> </li> <li class=md-nav__item> <a href=../../../factory/ class=md-nav__link> <span class=md-ellipsis> Factory </span> </a> </li> <li class=md-nav__item> <a href=../../../serialize/ class=md-nav__link> <span class=md-ellipsis> Serialize </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_6> <div class="md-nav__link md-nav__container"> <a href=../../../builder/ class="md-nav__link "> <span class=md-ellipsis> Builder </span> </a> <label class="md-nav__link " for=__nav_3_4_6 id=__nav_3_4_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_6> <span class="md-nav__icon md-icon"></span> Builder </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../builder/args/ class=md-nav__link> <span class=md-ellipsis> Args </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/assign/ class=md-nav__link> <span class=md-ellipsis> Assign </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/coupling/ class=md-nav__link> <span class=md-ellipsis> Coupling </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/drive/ class=md-nav__link> <span class=md-ellipsis> Drive </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/field/ class=md-nav__link> <span class=md-ellipsis> Field </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/parallelize/ class=md-nav__link> <span class=md-ellipsis> Parallelize </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/pragmas/ class=md-nav__link> <span class=md-ellipsis> Pragmas </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/route/ class=md-nav__link> <span class=md-ellipsis> Route </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/sequence_builder/ class=md-nav__link> <span class=md-ellipsis> Sequence builder </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/spatial/ class=md-nav__link> <span class=md-ellipsis> Spatial </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/start/ class=md-nav__link> <span class=md-ellipsis> Start </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/typing/ class=md-nav__link> <span class=md-ellipsis> Typing </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/waveform/ class=md-nav__link> <span class=md-ellipsis> Waveform </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_6_15> <div class="md-nav__link md-nav__container"> <a href=../../../builder/backend/ class="md-nav__link "> <span class=md-ellipsis> Backend </span> </a> <label class="md-nav__link " for=__nav_3_4_6_15 id=__nav_3_4_6_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_6_15_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_6_15> <span class="md-nav__icon md-icon"></span> Backend </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../builder/backend/bloqade/ class=md-nav__link> <span class=md-ellipsis> Bloqade </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/backend/braket/ class=md-nav__link> <span class=md-ellipsis> Braket </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/backend/quera/ class=md-nav__link> <span class=md-ellipsis> Quera </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_6_16> <div class="md-nav__link md-nav__container"> <a href=../../../builder/parse/ class="md-nav__link "> <span class=md-ellipsis> Parse </span> </a> <label class="md-nav__link " for=__nav_3_4_6_16 id=__nav_3_4_6_16_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_6_16_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_6_16> <span class="md-nav__icon md-icon"></span> Parse </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../builder/parse/builder/ class=md-nav__link> <span class=md-ellipsis> Builder </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/parse/stream/ class=md-nav__link> <span class=md-ellipsis> Stream </span> </a> </li> <li class=md-nav__item> <a href=../../../builder/parse/trait/ class=md-nav__link> <span class=md-ellipsis> Trait </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/ class="md-nav__link "> <span class=md-ellipsis> Compiler </span> </a> <label class="md-nav__link " for=__nav_3_4_7 id=__nav_3_4_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7> <span class="md-nav__icon md-icon"></span> Compiler </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_2> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/analysis/ class="md-nav__link "> <span class=md-ellipsis> Analysis </span> </a> <label class="md-nav__link " for=__nav_3_4_7_2 id=__nav_3_4_7_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_2> <span class="md-nav__icon md-icon"></span> Analysis </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_2_2> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/analysis/common/ class="md-nav__link "> <span class=md-ellipsis> Common </span> </a> <label class="md-nav__link " for=__nav_3_4_7_2_2 id=__nav_3_4_7_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_4_7_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_2_2> <span class="md-nav__icon md-icon"></span> Common </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiler/analysis/common/assignment_scan/ class=md-nav__link> <span class=md-ellipsis> Assignment scan </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/analysis/common/check_slices/ class=md-nav__link> <span class=md-ellipsis> Check slices </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/analysis/common/is_constant/ class=md-nav__link> <span class=md-ellipsis> Is constant </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/analysis/common/is_hyperfine/ class=md-nav__link> <span class=md-ellipsis> Is hyperfine </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/analysis/common/scan_channels/ class=md-nav__link> <span class=md-ellipsis> Scan channels </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/analysis/common/scan_variables/ class=md-nav__link> <span class=md-ellipsis> Scan variables </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_2_3> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/analysis/hardware/ class="md-nav__link "> <span class=md-ellipsis> Hardware </span> </a> <label class="md-nav__link " for=__nav_3_4_7_2_3 id=__nav_3_4_7_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_4_7_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_2_3> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiler/analysis/hardware/channels/ class=md-nav__link> <span class=md-ellipsis> Channels </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/analysis/hardware/piecewise_constant/ class=md-nav__link> <span class=md-ellipsis> Piecewise constant </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/analysis/hardware/piecewise_linear/ class=md-nav__link> <span class=md-ellipsis> Piecewise linear </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_2_4> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/analysis/python/ class="md-nav__link "> <span class=md-ellipsis> Python </span> </a> <label class="md-nav__link " for=__nav_3_4_7_2_4 id=__nav_3_4_7_2_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_4_7_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_2_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiler/analysis/python/waveform/ class=md-nav__link> <span class=md-ellipsis> Waveform </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_3> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/passes/ class="md-nav__link "> <span class=md-ellipsis> Passes </span> </a> <label class="md-nav__link " for=__nav_3_4_7_3 id=__nav_3_4_7_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_3> <span class="md-nav__icon md-icon"></span> Passes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiler/passes/emulator/ class=md-nav__link> <span class=md-ellipsis> Emulator </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_3_3> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/passes/hardware/ class="md-nav__link "> <span class=md-ellipsis> Hardware </span> </a> <label class="md-nav__link " for=__nav_3_4_7_3_3 id=__nav_3_4_7_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_4_7_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_3_3> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiler/passes/hardware/components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/passes/hardware/define/ class=md-nav__link> <span class=md-ellipsis> Define </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/passes/hardware/units/ class=md-nav__link> <span class=md-ellipsis> Units </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_4> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/rewrite/ class="md-nav__link "> <span class=md-ellipsis> Rewrite </span> </a> <label class="md-nav__link " for=__nav_3_4_7_4 id=__nav_3_4_7_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_4> <span class="md-nav__icon md-icon"></span> Rewrite </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_4_2> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/rewrite/common/ class="md-nav__link "> <span class=md-ellipsis> Common </span> </a> <label class="md-nav__link " for=__nav_3_4_7_4_2 id=__nav_3_4_7_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_4_7_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_4_2> <span class="md-nav__icon md-icon"></span> Common </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiler/rewrite/common/add_padding/ class=md-nav__link> <span class=md-ellipsis> Add padding </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/rewrite/common/assign_to_literal/ class=md-nav__link> <span class=md-ellipsis> Assign to literal </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/rewrite/common/assign_variables/ class=md-nav__link> <span class=md-ellipsis> Assign variables </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/rewrite/common/canonicalize/ class=md-nav__link> <span class=md-ellipsis> Canonicalize </span> </a> </li> <li class=md-nav__item> <a href=../../../compiler/rewrite/common/flatten/ class=md-nav__link> <span class=md-ellipsis> Flatten </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7_4_3> <div class="md-nav__link md-nav__container"> <a href=../../../compiler/rewrite/python/ class="md-nav__link "> <span class=md-ellipsis> Python </span> </a> <label class="md-nav__link " for=__nav_3_4_7_4_3 id=__nav_3_4_7_4_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_4_7_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7_4_3> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiler/rewrite/python/waveform/ class=md-nav__link> <span class=md-ellipsis> Waveform </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_8> <div class="md-nav__link md-nav__container"> <a href=../../../emulate/ class="md-nav__link "> <span class=md-ellipsis> Emulate </span> </a> <label class="md-nav__link " for=__nav_3_4_8 id=__nav_3_4_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_8> <span class="md-nav__icon md-icon"></span> Emulate </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../emulate/sparse_operator/ class=md-nav__link> <span class=md-ellipsis> Sparse operator </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_8_3> <div class="md-nav__link md-nav__container"> <a href=../../../emulate/ir/ class="md-nav__link "> <span class=md-ellipsis> Ir </span> </a> <label class="md-nav__link " for=__nav_3_4_8_3 id=__nav_3_4_8_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_8_3> <span class="md-nav__icon md-icon"></span> Ir </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../emulate/ir/atom_type/ class=md-nav__link> <span class=md-ellipsis> Atom type </span> </a> </li> <li class=md-nav__item> <a href=../../../emulate/ir/emulator/ class=md-nav__link> <span class=md-ellipsis> Emulator </span> </a> </li> <li class=md-nav__item> <a href=../../../emulate/ir/space/ class=md-nav__link> <span class=md-ellipsis> Space </span> </a> </li> <li class=md-nav__item> <a href=../../../emulate/ir/state_vector/ class=md-nav__link> <span class=md-ellipsis> State vector </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_9 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Ir </span> </a> <label class="md-nav__link " for=__nav_3_4_9 id=__nav_3_4_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_9_label aria-expanded=true> <label class=md-nav__title for=__nav_3_4_9> <span class="md-nav__icon md-icon"></span> Ir </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../analog_circuit/ class=md-nav__link> <span class=md-ellipsis> Analog circuit </span> </a> </li> <li class=md-nav__item> <a href=../../scalar/ class=md-nav__link> <span class=md-ellipsis> Scalar </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_9_4> <div class="md-nav__link md-nav__container"> <a href=../../control/ class="md-nav__link "> <span class=md-ellipsis> Control </span> </a> <label class="md-nav__link " for=__nav_3_4_9_4 id=__nav_3_4_9_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_9_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_9_4> <span class="md-nav__icon md-icon"></span> Control </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../control/field/ class=md-nav__link> <span class=md-ellipsis> Field </span> </a> </li> <li class=md-nav__item> <a href=../../control/pulse/ class=md-nav__link> <span class=md-ellipsis> Pulse </span> </a> </li> <li class=md-nav__item> <a href=../../control/sequence/ class=md-nav__link> <span class=md-ellipsis> Sequence </span> </a> </li> <li class=md-nav__item> <a href=../../control/waveform/ class=md-nav__link> <span class=md-ellipsis> Waveform </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_9_4_6> <div class="md-nav__link md-nav__container"> <a href=../../control/traits/ class="md-nav__link "> <span class=md-ellipsis> Traits </span> </a> <label class="md-nav__link " for=__nav_3_4_9_4_6 id=__nav_3_4_9_4_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_4_9_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_9_4_6> <span class="md-nav__icon md-icon"></span> Traits </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../control/traits/append/ class=md-nav__link> <span class=md-ellipsis> Append </span> </a> </li> <li class=md-nav__item> <a href=../../control/traits/canonicalize/ class=md-nav__link> <span class=md-ellipsis> Canonicalize </span> </a> </li> <li class=md-nav__item> <a href=../../control/traits/hash/ class=md-nav__link> <span class=md-ellipsis> Hash </span> </a> </li> <li class=md-nav__item> <a href=../../control/traits/slice/ class=md-nav__link> <span class=md-ellipsis> Slice </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_9_5> <div class="md-nav__link md-nav__container"> <a href=../../location/ class="md-nav__link "> <span class=md-ellipsis> Location </span> </a> <label class="md-nav__link " for=__nav_3_4_9_5 id=__nav_3_4_9_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_9_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_9_5> <span class="md-nav__icon md-icon"></span> Location </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../location/bravais/ class=md-nav__link> <span class=md-ellipsis> Bravais </span> </a> </li> <li class=md-nav__item> <a href=../../location/location/ class=md-nav__link> <span class=md-ellipsis> Location </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_9_6 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Routine </span> </a> <label class="md-nav__link " for=__nav_3_4_9_6 id=__nav_3_4_9_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_9_6_label aria-expanded=true> <label class=md-nav__title for=__nav_3_4_9_6> <span class="md-nav__icon md-icon"></span> Routine </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Bloqade </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Bloqade </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade class=md-nav__link> <span class=md-ellipsis> bloqade </span> </a> </li> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine class=md-nav__link> <span class=md-ellipsis> BloqadePythonRoutine </span> </a> <nav class=md-nav aria-label=BloqadePythonRoutine> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine.run class=md-nav__link> <span class=md-ellipsis> run() </span> </a> </li> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine.run_callback class=md-nav__link> <span class=md-ellipsis> run_callback() </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../braket/ class=md-nav__link> <span class=md-ellipsis> Braket </span> </a> </li> <li class=md-nav__item> <a href=../params/ class=md-nav__link> <span class=md-ellipsis> Params </span> </a> </li> <li class=md-nav__item> <a href=../quera/ class=md-nav__link> <span class=md-ellipsis> Quera </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_10> <div class="md-nav__link md-nav__container"> <a href=../../../submission/ class="md-nav__link "> <span class=md-ellipsis> Submission </span> </a> <label class="md-nav__link " for=__nav_3_4_10 id=__nav_3_4_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_10_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_10> <span class="md-nav__icon md-icon"></span> Submission </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../submission/base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/braket/ class=md-nav__link> <span class=md-ellipsis> Braket </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/load_config/ class=md-nav__link> <span class=md-ellipsis> Load config </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/mock/ class=md-nav__link> <span class=md-ellipsis> Mock </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/quera/ class=md-nav__link> <span class=md-ellipsis> Quera </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_10_7> <div class="md-nav__link md-nav__container"> <a href=../../../submission/ir/ class="md-nav__link "> <span class=md-ellipsis> Ir </span> </a> <label class="md-nav__link " for=__nav_3_4_10_7 id=__nav_3_4_10_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_10_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_10_7> <span class="md-nav__icon md-icon"></span> Ir </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../submission/ir/braket/ class=md-nav__link> <span class=md-ellipsis> Braket </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/ir/capabilities/ class=md-nav__link> <span class=md-ellipsis> Capabilities </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/ir/parallel/ class=md-nav__link> <span class=md-ellipsis> Parallel </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/ir/task_results/ class=md-nav__link> <span class=md-ellipsis> Task results </span> </a> </li> <li class=md-nav__item> <a href=../../../submission/ir/task_specification/ class=md-nav__link> <span class=md-ellipsis> Task specification </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_11> <div class="md-nav__link md-nav__container"> <a href=../../../task/ class="md-nav__link "> <span class=md-ellipsis> Task </span> </a> <label class="md-nav__link " for=__nav_3_4_11 id=__nav_3_4_11_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_11_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_11> <span class="md-nav__icon md-icon"></span> Task </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../task/base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class=md-nav__item> <a href=../../../task/batch/ class=md-nav__link> <span class=md-ellipsis> Batch </span> </a> </li> <li class=md-nav__item> <a href=../../../task/bloqade/ class=md-nav__link> <span class=md-ellipsis> Bloqade </span> </a> </li> <li class=md-nav__item> <a href=../../../task/braket/ class=md-nav__link> <span class=md-ellipsis> Braket </span> </a> </li> <li class=md-nav__item> <a href=../../../task/braket_simulator/ class=md-nav__link> <span class=md-ellipsis> Braket simulator </span> </a> </li> <li class=md-nav__item> <a href=../../../task/quera/ class=md-nav__link> <span class=md-ellipsis> Quera </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <div class="md-nav__link md-nav__container"> <a href=../../../../../blog/2023/ class="md-nav__link "> <span class=md-ellipsis> 2023 </span> </a> <label class="md-nav__link " for=__nav_4_1 id=__nav_4_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 2023 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../blog/2023/posts/bloqade-release/ class=md-nav__link> <span class=md-ellipsis> Introducing Bloqade SDK for Python </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://github.com/QuEraComputing/bloqade-python/blob/main/LICENSE class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../../../../contributing/ class="md-nav__link "> <span class=md-ellipsis> Contributing </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../contributing/reporting-a-bug/ class=md-nav__link> <span class=md-ellipsis> Reporting Bugs </span> </a> </li> <li class=md-nav__item> <a href=../../../../../contributing/documentation-issues/ class=md-nav__link> <span class=md-ellipsis> Reporting Documentation Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../../../contributing/feature-requests/ class=md-nav__link> <span class=md-ellipsis> Feature Requests </span> </a> </li> <li class=md-nav__item> <a href=../../../../../contributing/developing-bloqade/ class=md-nav__link> <span class=md-ellipsis> Developing Bloqade </span> </a> </li> <li class=md-nav__item> <a href=../../../../../contributing/design-philosophy-and-architecture/ class=md-nav__link> <span class=md-ellipsis> Design Philosophy and Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../../../../contributing/community-slack/ class=md-nav__link> <span class=md-ellipsis> Community Slack </span> </a> </li> <li class=md-nav__item> <a href=../../../../../contributing/asking-a-question/ class=md-nav__link> <span class=md-ellipsis> Asking a Question </span> </a> </li> <li class=md-nav__item> <a href=../../../../../contributing/providing-feedback/ class=md-nav__link> <span class=md-ellipsis> Providing Feedback </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade class=md-nav__link> <span class=md-ellipsis> bloqade </span> </a> </li> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine class=md-nav__link> <span class=md-ellipsis> BloqadePythonRoutine </span> </a> <nav class=md-nav aria-label=BloqadePythonRoutine> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine.run class=md-nav__link> <span class=md-ellipsis> run() </span> </a> </li> <li class=md-nav__item> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine.run_callback class=md-nav__link> <span class=md-ellipsis> run_callback() </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/QuEraComputing/bloqade-python/edit/main/src/bloqade/ir/routine/bloqade.py title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/QuEraComputing/bloqade-python/raw/main/src/bloqade/ir/routine/bloqade.py title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1>Bloqade</h1> <div class="doc doc-object doc-module"> <a id=bloqade.ir.routine.bloqade></a> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=bloqade.ir.routine.bloqade.BloqadePythonRoutine class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">BloqadePythonRoutine</span> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title="bloqade.ir.routine.base.RoutineBase">RoutineBase</span></code></p> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=bloqade.ir.routine.bloqade.BloqadePythonRoutine.run class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">run</span> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine.run class=headerlink title="Permanent link">&para;</a></h3> <div class="doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>run</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>shots</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>blockade_radius</span><span class=o>=</span><span class=mf>0.0</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>waveform_runtime</span><span class=o>=</span><span class=s2>&quot;interpret&quot;</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>interaction_picture</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>cache_matrices</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>multiprocessing</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=n>num_workers</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=n>solver_name</span><span class=o>=</span><span class=s2>&quot;dop853&quot;</span><span class=p>,</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>    <span class=n>atol</span><span class=o>=</span><span class=mf>1e-07</span><span class=p>,</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    <span class=n>rtol</span><span class=o>=</span><span class=mf>1e-14</span><span class=p>,</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=n>nsteps</span><span class=o>=</span><span class=mi>2147483647</span><span class=p>,</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Run the current program using bloqade python backend</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>shots</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>number of shots after running state vector simulation</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>args</code></td> <td> <code><span title="beartype.typing.Tuple">Tuple</span>[<span title="bloqade.builder.typing.LiteralType">LiteralType</span>, ...]</code> </td> <td> <div class=doc-md-description> <p>The values for parameters defined</p> </div> </td> <td> <code>()</code> </td> </tr> <tr> <td><code>name</code></td> <td> <code><span title="beartype.typing.Optional">Optional</span>[str]</code> </td> <td> <div class=doc-md-description> <p>Name to give this run. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr> <td><code>blockade_radius</code></td> <td> <code>float</code> </td> <td> <div class=doc-md-description> <p>Use the Blockade subspace given a</p> </div> </td> <td> <code>0.0</code> </td> </tr> <tr> <td><code>waveform_runtime</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>(bool, optional): Use Numba to compile the waveforms,</p> </div> </td> <td> <code>&#39;interpret&#39;</code> </td> </tr> <tr> <td><code>interaction_picture</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Use the interaction picture when</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>cache_matrices</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Reuse previously evaluated matrcies when</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>multiprocessing</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Use multiple processes to process the</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>num_workers</code></td> <td> <code><span title="beartype.typing.Optional">Optional</span>[int]</code> </td> <td> <div class=doc-md-description> <p>Number of processes to run with</p> </div> </td> <td> <code>None</code> </td> </tr> <tr> <td><code>solver_name</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Which SciPy Solver to use. Defaults to</p> </div> </td> <td> <code>&#39;dop853&#39;</code> </td> </tr> <tr> <td><code>atol</code></td> <td> <code>float</code> </td> <td> <div class=doc-md-description> <p>Absolute tolerance for ODE solver. Defaults to</p> </div> </td> <td> <code>1e-07</code> </td> </tr> <tr> <td><code>rtol</code></td> <td> <code>float</code> </td> <td> <div class=doc-md-description> <p>Relative tolerance for adaptive step in ODE solver.</p> </div> </td> <td> <code>1e-14</code> </td> </tr> <tr> <td><code>nsteps</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>Maximum number of steps allowed per integration</p> </div> </td> <td> <code>2147483647</code> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>Cannot use multiprocessing and cache_matrices at the same time.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>LocalBatch</code></td> <td> <code><a class="autorefs autorefs-internal" title="bloqade.task.batch.LocalBatch" href="../../../task/batch/#bloqade.task.batch.LocalBatch">LocalBatch</a></code> </td> <td> <div class=doc-md-description> <p>Batch of local tasks that have been executed.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/bloqade/ir/routine/bloqade.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a><span class=nd>@beartype</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a><span class=k>def</span> <span class=nf>run</span><span class=p>(</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=n>shots</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>    <span class=n>args</span><span class=p>:</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>LiteralType</span><span class=p>,</span> <span class=o>...</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>    <span class=n>name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=n>blockade_radius</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>,</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>    <span class=n>waveform_runtime</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;interpret&quot;</span><span class=p>,</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=n>interaction_picture</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=n>cache_matrices</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=n>multiprocessing</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>    <span class=n>num_workers</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=n>solver_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;dop853&quot;</span><span class=p>,</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>    <span class=n>atol</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>1e-7</span><span class=p>,</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>    <span class=n>rtol</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>1e-14</span><span class=p>,</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>    <span class=n>nsteps</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>2_147_483_647</span><span class=p>,</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>LocalBatch</span><span class=p>:</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the current program using bloqade python backend</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a><span class=sd>    Args:</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a><span class=sd>        shots (int): number of shots after running state vector simulation</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a><span class=sd>        args (Tuple[LiteralType, ...], optional): The values for parameters defined</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=sd>        in `args`. Defaults to ().</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=sd>        name (Optional[str], optional): Name to give this run. Defaults to None.</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=sd>        blockade_radius (float, optional): Use the Blockade subspace given a</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a><span class=sd>        particular radius. Defaults to 0.0.</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a><span class=sd>        waveform_runtime: (bool, optional): Use Numba to compile the waveforms,</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a><span class=sd>        Defaults to False.</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a><span class=sd>        interaction_picture (bool, optional): Use the interaction picture when</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a><span class=sd>        solving schrodinger equation. Defaults to False.</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a><span class=sd>        cache_matrices (bool, optional): Reuse previously evaluated matrcies when</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=sd>        possible. Defaults to False.</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=sd>        multiprocessing (bool, optional): Use multiple processes to process the</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a><span class=sd>        batches. Defaults to False.</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a><span class=sd>        num_workers (Optional[int], optional): Number of processes to run with</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=sd>        multiprocessing. Defaults to None.</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a><span class=sd>        solver_name (str, optional): Which SciPy Solver to use. Defaults to</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a><span class=sd>        &quot;dop853&quot;.</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a><span class=sd>        atol (float, optional): Absolute tolerance for ODE solver. Defaults to</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a><span class=sd>        1e-14.</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a><span class=sd>        rtol (float, optional): Relative tolerance for adaptive step in ODE solver.</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a><span class=sd>        Defaults to 1e-7.</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a><span class=sd>        nsteps (int, optional): Maximum number of steps allowed per integration</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a><span class=sd>        step. Defaults to 2_147_483_647, the maximum value.</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a><span class=sd>    Raises:</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a><span class=sd>        ValueError: Cannot use multiprocessing and cache_matrices at the same time.</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a><span class=sd>    Returns:</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a><span class=sd>        LocalBatch: Batch of local tasks that have been executed.</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>    <span class=k>if</span> <span class=n>multiprocessing</span> <span class=ow>and</span> <span class=n>cache_matrices</span><span class=p>:</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>            <span class=s2>&quot;Cannot use multiprocessing and cache_matrices at the same time.&quot;</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>        <span class=p>)</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>    <span class=n>compile_options</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>        <span class=n>shots</span><span class=o>=</span><span class=n>shots</span><span class=p>,</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>        <span class=n>args</span><span class=o>=</span><span class=n>args</span><span class=p>,</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>        <span class=n>name</span><span class=o>=</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>        <span class=n>blockade_radius</span><span class=o>=</span><span class=n>blockade_radius</span><span class=p>,</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>        <span class=n>cache_matrices</span><span class=o>=</span><span class=n>cache_matrices</span><span class=p>,</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>        <span class=n>waveform_runtime</span><span class=o>=</span><span class=n>waveform_runtime</span><span class=p>,</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>    <span class=p>)</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>    <span class=n>solver_options</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>        <span class=n>multiprocessing</span><span class=o>=</span><span class=n>multiprocessing</span><span class=p>,</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>        <span class=n>num_workers</span><span class=o>=</span><span class=n>num_workers</span><span class=p>,</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>        <span class=n>solver_name</span><span class=o>=</span><span class=n>solver_name</span><span class=p>,</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>        <span class=n>atol</span><span class=o>=</span><span class=n>atol</span><span class=p>,</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>        <span class=n>rtol</span><span class=o>=</span><span class=n>rtol</span><span class=p>,</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>        <span class=n>nsteps</span><span class=o>=</span><span class=n>nsteps</span><span class=p>,</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>        <span class=n>interaction_picture</span><span class=o>=</span><span class=n>interaction_picture</span><span class=p>,</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>    <span class=p>)</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a>    <span class=n>batch</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_compile</span><span class=p>(</span><span class=o>**</span><span class=n>compile_options</span><span class=p>)</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>    <span class=n>batch</span><span class=o>.</span><span class=n>_run</span><span class=p>(</span><span class=o>**</span><span class=n>solver_options</span><span class=p>)</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>    <span class=k>return</span> <span class=n>batch</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=bloqade.ir.routine.bloqade.BloqadePythonRoutine.run_callback class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">run_callback</span> <a href=#bloqade.ir.routine.bloqade.BloqadePythonRoutine.run_callback class=headerlink title="Permanent link">&para;</a></h3> <div class="doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>run_callback</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>callback</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>program_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>callback_args</span><span class=o>=</span><span class=p>(),</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>ignore_exceptions</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>blockade_radius</span><span class=o>=</span><span class=mf>0.0</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>waveform_runtime</span><span class=o>=</span><span class=s2>&quot;interpret&quot;</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>interaction_picture</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>cache_matrices</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=n>multiprocessing</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=n>num_workers</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>    <span class=n>solver_name</span><span class=o>=</span><span class=s2>&quot;dop853&quot;</span><span class=p>,</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    <span class=n>atol</span><span class=o>=</span><span class=mf>1e-07</span><span class=p>,</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=n>rtol</span><span class=o>=</span><span class=mf>1e-14</span><span class=p>,</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>    <span class=n>nsteps</span><span class=o>=</span><span class=mi>2147483647</span><span class=p>,</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Run state-vector simulation with a callback to access full state-vector from emulator</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>callback</code></td> <td> <code><span title="beartype.typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="bloqade.emulate.ir.state_vector.StateVector" href="../../../emulate/ir/state_vector/#bloqade.emulate.ir.state_vector.StateVector">StateVector</a>, Metadata, <a class="autorefs autorefs-internal" title="bloqade.emulate.ir.state_vector.RydbergHamiltonian" href="../../../emulate/ir/state_vector/#bloqade.emulate.ir.state_vector.RydbergHamiltonian">RydbergHamiltonian</a>, <span title="beartype.typing.Any">Any</span>], <span title="beartype.typing.Any">Any</span>]</code> </td> <td> <div class=doc-md-description> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>program_args</code></td> <td> <code><span title="beartype.typing.Tuple">Tuple</span>[<span title="bloqade.builder.typing.LiteralType">LiteralType</span>, ...]</code> </td> <td> <div class=doc-md-description> <p>The values for parameters</p> </div> </td> <td> <code>()</code> </td> </tr> <tr> <td><code>callback_args</code></td> <td> <code><span title="beartype.typing.Tuple">Tuple</span>[<span title="beartype.typing.Any">Any</span>, ...]</code> </td> <td> <div class=doc-md-description> <p>Extra arguments to pass into</p> </div> </td> <td> <code>()</code> </td> </tr> <tr> <td><code>ignore_exceptions</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>(bool, optional) If <code>True</code> any exception raised during</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>blockade_radius</code></td> <td> <code>float</code> </td> <td> <div class=doc-md-description> <p>Use the Blockade subspace given a</p> </div> </td> <td> <code>0.0</code> </td> </tr> <tr> <td><code>waveform_runtime</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>(str, optional): Specify which runtime to use for</p> </div> </td> <td> <code>&#39;interpret&#39;</code> </td> </tr> <tr> <td><code>interaction_picture</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Use the interaction picture when</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>cache_matrices</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Reuse previously evaluated matrcies when</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>multiprocessing</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Use multiple processes to process the</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>num_workers</code></td> <td> <code><span title="beartype.typing.Optional">Optional</span>[int]</code> </td> <td> <div class=doc-md-description> <p>Number of processes to run with</p> </div> </td> <td> <code>None</code> </td> </tr> <tr> <td><code>solver_name</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Which SciPy Solver to use. Defaults to</p> </div> </td> <td> <code>&#39;dop853&#39;</code> </td> </tr> <tr> <td><code>atol</code></td> <td> <code>float</code> </td> <td> <div class=doc-md-description> <p>Absolute tolerance for ODE solver. Defaults to</p> </div> </td> <td> <code>1e-07</code> </td> </tr> <tr> <td><code>rtol</code></td> <td> <code>float</code> </td> <td> <div class=doc-md-description> <p>Relative tolerance for adaptive step in ODE solver.</p> </div> </td> <td> <code>1e-14</code> </td> </tr> <tr> <td><code>nsteps</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>Maximum number of steps allowed per integration</p> </div> </td> <td> <code>2147483647</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>List</code></td> <td> <code><span title="beartype.typing.List">List</span></code> </td> <td> <div class=doc-md-description> <p>List of resulting outputs from the callbacks</p> </div> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>RuntimeError</code> </td> <td> <div class=doc-md-description> <p>Raises the first error that occurs, only if</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For the <code>callback</code> function, first argument is the many-body wavefunction as a 1D complex numpy array, the second argument is of type <code>Metadata</code> which is a Named Tuple where the fields correspond to the parameters of that given task, RydbergHamiltonian is the object that contains the Hamiltonian used to generate the evolution for that task, Finally any optional positional arguments are allowed after that. The return value can be anything, the results will be collected in a list for each task in the batch.</p> </details> <details class=quote> <summary>Source code in <code>src/bloqade/ir/routine/bloqade.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a><span class=nd>@beartype</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a><span class=k>def</span> <span class=nf>run_callback</span><span class=p>(</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=n>callback</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>StateVector</span><span class=p>,</span> <span class=n>NamedTuple</span><span class=p>,</span> <span class=n>RydbergHamiltonian</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>Any</span><span class=p>],</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>    <span class=n>program_args</span><span class=p>:</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>LiteralType</span><span class=p>,</span> <span class=o>...</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>    <span class=n>callback_args</span><span class=p>:</span> <span class=n>Tuple</span> <span class=o>=</span> <span class=p>(),</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>    <span class=n>ignore_exceptions</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>    <span class=n>blockade_radius</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>,</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>    <span class=n>waveform_runtime</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;interpret&quot;</span><span class=p>,</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>    <span class=n>interaction_picture</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>    <span class=n>cache_matrices</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>    <span class=n>multiprocessing</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>    <span class=n>num_workers</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>    <span class=n>solver_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;dop853&quot;</span><span class=p>,</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>    <span class=n>atol</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>1e-7</span><span class=p>,</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>    <span class=n>rtol</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>1e-14</span><span class=p>,</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>    <span class=n>nsteps</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>2_147_483_647</span><span class=p>,</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>:</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run state-vector simulation with a callback to access full state-vector from</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a><span class=sd>    emulator</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a><span class=sd>    Args:</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a><span class=sd>        callback (Callable[[StateVector, Metadata, RydbergHamiltonian, Any], Any]):</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a><span class=sd>        The callback function to run for each task in batch. See note below for more</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a><span class=sd>        details about the signature of the function.</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a><span class=sd>        program_args (Tuple[LiteralType, ...], optional): The values for parameters</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a><span class=sd>        defined in `args`. Defaults to ().</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a><span class=sd>        callback_args (Tuple[Any,...], optional): Extra arguments to pass into</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a><span class=sd>        ignore_exceptions: (bool, optional) If `True` any exception raised during</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a><span class=sd>        a task will be saved instead of the resulting output of the callback,</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a><span class=sd>        otherwise the first exception by task number will be raised after *all*</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a><span class=sd>        tasks have executed. Defaults to False.</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a><span class=sd>        blockade_radius (float, optional): Use the Blockade subspace given a</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a><span class=sd>        particular radius. Defaults to 0.0.</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a><span class=sd>        waveform_runtime: (str, optional): Specify which runtime to use for</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a><span class=sd>        waveforms. Defaults to &quot;interpret&quot;.</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a><span class=sd>        interaction_picture (bool, optional): Use the interaction picture when</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a><span class=sd>        solving schrodinger equation. Defaults to False.</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a><span class=sd>        cache_matrices (bool, optional): Reuse previously evaluated matrcies when</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a><span class=sd>        possible. Defaults to False.</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a><span class=sd>        multiprocessing (bool, optional): Use multiple processes to process the</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a><span class=sd>        batches. Defaults to False.</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a><span class=sd>        num_workers (Optional[int], optional): Number of processes to run with</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a><span class=sd>        multiprocessing. Defaults to None.</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a><span class=sd>        solver_name (str, optional): Which SciPy Solver to use. Defaults to</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a><span class=sd>        &quot;dop853&quot;.</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a><span class=sd>        atol (float, optional): Absolute tolerance for ODE solver. Defaults to</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a><span class=sd>        1e-14.</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a><span class=sd>        rtol (float, optional): Relative tolerance for adaptive step in ODE solver.</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a><span class=sd>        Defaults to 1e-7.</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a><span class=sd>        nsteps (int, optional): Maximum number of steps allowed per integration</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a><span class=sd>        step. Defaults to 2_147_483_647, the maximum value.</span>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=sd>    Returns:</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a><span class=sd>        List: List of resulting outputs from the callbacks</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a><span class=sd>    Raises:</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a><span class=sd>        RuntimeError: Raises the first error that occurs, only if</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a><span class=sd>        `ignore_exceptions=False`.</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a><span class=sd>    Note:</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a><span class=sd>        For the `callback` function, first argument is the many-body wavefunction</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a><span class=sd>        as a 1D complex numpy array, the second argument is of type `Metadata` which</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a><span class=sd>        is a Named Tuple where the fields correspond to the parameters of that given</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a><span class=sd>        task, RydbergHamiltonian is the object that contains the Hamiltonian used to</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a><span class=sd>        generate the evolution for that task, Finally any optional positional</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a><span class=sd>        arguments are allowed after that. The return value can be anything, the</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a><span class=sd>        results will be collected in a list for each task in the batch.</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>    <span class=k>if</span> <span class=n>multiprocessing</span><span class=p>:</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a>        <span class=kn>from</span> <span class=nn>multiprocessing</span> <span class=kn>import</span> <span class=n>Process</span><span class=p>,</span> <span class=n>Queue</span><span class=p>,</span> <span class=n>cpu_count</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>        <span class=kn>from</span> <span class=nn>queue</span> <span class=kn>import</span> <span class=n>Queue</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>    <span class=k>if</span> <span class=n>cache_matrices</span><span class=p>:</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>        <span class=n>compile_cache</span> <span class=o>=</span> <span class=n>CompileCache</span><span class=p>()</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>        <span class=n>compile_cache</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>    <span class=n>solver_args</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a>        <span class=n>solver_name</span><span class=o>=</span><span class=n>solver_name</span><span class=p>,</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a>        <span class=n>atol</span><span class=o>=</span><span class=n>atol</span><span class=p>,</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>        <span class=n>rtol</span><span class=o>=</span><span class=n>rtol</span><span class=p>,</span>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>        <span class=n>nsteps</span><span class=o>=</span><span class=n>nsteps</span><span class=p>,</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>        <span class=n>interaction_picture</span><span class=o>=</span><span class=n>interaction_picture</span><span class=p>,</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>    <span class=p>)</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>    <span class=n>runner</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>EmuRunner</span><span class=p>(</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>        <span class=n>compile_cache</span><span class=o>=</span><span class=n>compile_cache</span><span class=p>,</span>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>        <span class=n>solver_args</span><span class=o>=</span><span class=n>solver_args</span><span class=p>,</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a>        <span class=n>callback</span><span class=o>=</span><span class=n>callback</span><span class=p>,</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a>        <span class=n>callback_args</span><span class=o>=</span><span class=n>callback_args</span><span class=p>,</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>    <span class=p>)</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309></a>
</span><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a>    <span class=n>tasks</span> <span class=o>=</span> <span class=n>Queue</span><span class=p>()</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a>    <span class=n>results</span> <span class=o>=</span> <span class=n>Queue</span><span class=p>()</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a>    <span class=n>total_tasks</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a>    <span class=n>it_iter</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_generate_ir</span><span class=p>(</span><span class=n>program_args</span><span class=p>,</span> <span class=n>blockade_radius</span><span class=p>,</span> <span class=n>waveform_runtime</span><span class=p>)</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a>    <span class=k>for</span> <span class=n>task_number</span><span class=p>,</span> <span class=n>emulator_ir</span><span class=p>,</span> <span class=n>metadata</span> <span class=ow>in</span> <span class=n>it_iter</span><span class=p>:</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a>        <span class=n>total_tasks</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a>        <span class=n>tasks</span><span class=o>.</span><span class=n>put</span><span class=p>((</span><span class=n>task_number</span><span class=p>,</span> <span class=p>(</span><span class=n>emulator_ir</span><span class=p>,</span> <span class=n>metadata</span><span class=p>)))</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>    <span class=n>workers</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a>    <span class=k>if</span> <span class=n>multiprocessing</span><span class=p>:</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a>        <span class=n>num_workers</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>num_workers</span> <span class=ow>or</span> <span class=n>cpu_count</span><span class=p>()),</span> <span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a>        <span class=n>num_workers</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>total_tasks</span><span class=p>,</span> <span class=n>num_workers</span><span class=p>)</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a>        <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_workers</span><span class=p>):</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a>            <span class=n>worker</span> <span class=o>=</span> <span class=n>Process</span><span class=p>(</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>                <span class=n>target</span><span class=o>=</span><span class=n>BloqadePythonRoutine</span><span class=o>.</span><span class=n>process_tasks</span><span class=p>,</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a>                <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>runner</span><span class=p>,</span> <span class=n>tasks</span><span class=p>,</span> <span class=n>results</span><span class=p>),</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a>            <span class=p>)</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a>            <span class=n>worker</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>            <span class=n>workers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>worker</span><span class=p>)</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a>        <span class=bp>self</span><span class=o>.</span><span class=n>process_tasks</span><span class=p>(</span><span class=n>runner</span><span class=p>,</span> <span class=n>tasks</span><span class=p>,</span> <span class=n>results</span><span class=p>)</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>    <span class=c1># blocks until all</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>    <span class=c1># results have been fetched</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a>    <span class=c1># from the id_results Queue</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>    <span class=n>id_results</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>total_tasks</span><span class=p>):</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>        <span class=n>id_results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>results</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>    <span class=k>if</span> <span class=n>workers</span><span class=p>:</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>        <span class=k>for</span> <span class=n>worker</span> <span class=ow>in</span> <span class=n>workers</span><span class=p>:</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>            <span class=n>worker</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>        <span class=n>tasks</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>        <span class=n>results</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>    <span class=n>id_results</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>    <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>    <span class=k>for</span> <span class=n>task_id</span><span class=p>,</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>id_results</span><span class=p>:</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>ignore_exceptions</span> <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>result</span><span class=p>,</span> <span class=ne>BaseException</span><span class=p>):</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>                <span class=k>raise</span> <span class=n>result</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>            <span class=k>except</span> <span class=ne>BaseException</span><span class=p>:</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a>                <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a>                    <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>result</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> occured during child process &quot;</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a>                    <span class=sa>f</span><span class=s2>&quot;running for task number </span><span class=si>{</span><span class=n>task_id</span><span class=si>}</span><span class=s2>:</span><span class=se>\n</span><span class=si>{</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a>                <span class=p>)</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a>        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>    <span class=k>return</span> <span class=n>results</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../base/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Base"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Base </div> </div> </a> <a href=../braket/ class="md-footer__link md-footer__link--next" aria-label="Next: Braket"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Braket </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - QuEra Computing Inc. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/QuEraComputing/bloqade-python target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://pypi.org/project/bloqade/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> <a href=https://twitter.com/QueraComputing target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../assets/javascripts/bundle.d7c377c4.min.js></script> </body> </html>